<div *ngIf="reunion">
  <mat-card>
    <div [fxFlex]="100" >
       <mat-card fxFlexFill fxLayoutAlign="center center" >
         <h2>Sondage propose par {{reunion.user.name}} </h2>
       </mat-card>
    </div>

    <div [fxFlex]="100" >
        <mat-card-header fxFlexFill fxLayoutAlign="center center">
            <mat-card-title>{{reunion.titre}}</mat-card-title>
            <mat-card-subtitle>{{reunion.lieu}}</mat-card-subtitle>
          </mat-card-header>
    </div>
    <mat-card-content>

      <table >

            <tbody>
                <mat-divider></mat-divider>
                <tr>
                    <td>

                    </td>

                     <td *ngFor="let date of reunion.dated" >
                        {{date.date | date:'fullDate'}} <br>
                        {{date.heure_debut}} <br>
                        {{date.heure_fin}}
                     </td>

                  </tr>
                  <mat-divider></mat-divider>
                  <tr>
                      <td *ngIf="invitations" > {{invitations.length}} Participants</td>
                      <td *ngFor="let date of reunion.dated">
                          <!-- <mat-icon>check</mat-icon>0 -->
                          <app-slot [slotId]="date.id" [sondageId]="idSurvey"></app-slot>
                       </td>

                    </tr>
                    <mat-divider></mat-divider>
                    <mat-divider></mat-divider>
                  <tr *ngFor="let guest of invitations">
                    <td> {{guest}}</td>
                    <td *ngFor="let date of reunion.dated">
                        <!-- <mat-checkbox *ngIf="guest == userMail" (click)="selectedDate(date)" [(ngModel)]="date.valided" [disabled]="disable"></mat-checkbox> -->
                        <!-- <mat-checkbox *ngIf="guest != userMail"  [(ngModel)]="result" [disabled]=true></mat-checkbox> -->
                        <app-checker [slotID]="idSurvey" [email]="guest" [id_cr]="date.id" (click)="selectedDate(date,guest)" (results)="onChange($event)"></app-checker>
                     </td>
                     <mat-divider></mat-divider>
                    </tr>
                    <mat-divider></mat-divider>
                </tbody>
      </table>

    </mat-card-content>
    <mat-card-actions align="start">
                <button mat-raised-button  color="warn"(click)="validerVote()" [disabled]="creneau.length == 0">Valider le vote</button>
                <button mat-raised-button  color="warn"(click)="deleteEvent(event)">Valider sondage</button>

    </mat-card-actions>

</mat-card>

</div>
